<?php

$proxy_list = [
	'https://117.102.78.42:8080',
	'https://43.252.8.59:80',
	'http://182.23.5.10:53334',
	'http://202.125.94.139:1234',
	'https://202.137.25.53:3128',
	'https://110.138.239.105:8080',
	'https://110.232.64.164:42008',
	'http://202.154.181.218:8080',
	'https://103.84.145.140:8080',
	'https://116.68.253.82:43756',
	'https://121.101.190.230:8888',
	'https://118.97.221.186:8080',
	'https://36.89.78.43:80',
	'https://36.66.61.157:33752',
	'https://122.129.203.34:8080',
	'https://36.67.212.187:3128',
	'https://220.247.171.138:8080',
	'https://202.162.200.67:41448',
	'https://139.255.74.122:8080',
	'https://103.253.113.23:52955',
	'https://202.93.136.126:42646',
	'https://182.253.178.67:8080',
	'https://112.78.38.21:57089',
	'https://36.67.93.220:3128',
	'https://139.194.74.174:8080',
	'https://110.232.72.22:8080',
	'https://36.68.120.24:3128',
	'https://36.73.119.147:8080',
	'https://66.96.228.97:30564',
	'https://125.161.91.52:8080',
	'https://202.138.254.124:40557',
	'https://36.89.119.149:8080',
	'https://36.72.85.228:8080',
	'https://182.253.152.205:8080',
	'https://203.77.252.250:31988',
	'https://36.67.215.157:51692',
	'https://36.89.238.19:47886',
	'https://103.211.233.204:53281',
	'https://202.138.249.202:43108',
	'https://182.23.98.10:47906',
	'https://103.246.2.243:8080',
	'https://36.89.209.42:42852',
	'https://101.255.75.125:56089',
	'https://36.66.40.11:58988',
	'https://36.67.233.25:57540',
	'https://103.15.243.236:80',
	'https://119.235.19.42:38546',
	'https://103.76.50.181:80',
	'https://36.89.76.95:8080',
	'https://202.93.113.4:31821',
	'https://122.129.108.107:48257',
	'https://203.210.84.122:42220',
	'https://117.54.4.229:53281',
	'https://202.150.139.46:39341',
	'https://180.250.157.178:57378',
	'https://36.91.129.18:8080',
	'https://223.25.101.242:59504',
	'https://43.229.252.45:53281',
	'https://118.97.42.155:8080',
	'https://36.65.201.15:8080',
	'https://101.255.97.74:53281',
	'https://36.66.224.205:30528',
	'https://180.241.37.100:8080',
	'https://36.37.70.58:44349',
	'https://114.6.61.122:54097',
	'https://180.248.51.248:3128',
	'https://36.66.252.50:56990',
	'https://103.78.103.6:32664',
	'https://202.179.190.210:8080',
	'https://182.253.21.26:36926',
	'https://103.3.76.90:51603',
	'https://101.255.51.30:3128',
	'https://61.8.78.130:8080',
	'https://36.66.171.3:39105',
	'https://117.103.5.186:44825',
	'https://43.249.141.9:41503',
	'https://36.89.143.193:4550',
	'https://36.89.65.253:60997',
	'https://36.89.46.18:33784',
	'https://125.164.7.103:8080',
	'https://125.166.233.193:8080',
	'https://66.96.237.253:8080',
	'https://103.111.83.26:30673',
	'https://116.68.255.228:55356',
	'https://182.253.23.156:8080',
	'https://36.67.66.202:60577',
	'https://36.67.204.74:49817',
	'https://95 103.36.8.158:43901',
	'https://96 36.81.1.38:8080',
	'https://97 222.124.2.130:8080	',
	'https://98 223.25.99.38:80	',
	'https://99 222.124.215.187:38913',
	'https://100 125.163.232.70:8080',
	'http://202.43.167.130:8080',
	'http://103.85.150.130:23500',
	'http://150.129.56.138:31111',
	'http://36.73.4.162:8080',
	'http://36.72.229.102:8080',
	'http://103.78.11.18:8080',
	'http://36.67.239.23:8080'
];

function checkProxy($purl)
{
	$purl = explode(':', preg_replace('/https:\/\/|http:\/\//', '', $purl));
	$waitTimeoutInSeconds = 1; 
	if($fp = @fsockopen($purl[0],$purl[1],$errCode,$errStr,$waitTimeoutInSeconds)){
	   return [
	   	'active' => true,
	   	'ip' => $purl[0],
	   	'port' => $purl[1]
	   ];
	} else {
	   return [
	   	'active' => false,
	   	'ip' => $purl[0],
	   	'port' => $purl[1]
	   ];;
	} 
	fclose($fp);
}

$url = 'https://api.github.com/';
$proxy = 'https://83.167.203.174:49019';

for ($i=0; $i < count($proxy_list); $i++) { 
	$purl = checkProxy($proxy_list[$i]);
	echo "NO : " . $i . PHP_EOL;
	if ($purl['active'] == true) {
		echo 'Proxy IP : ' . $purl['ip'] . PHP_EOL;
		echo 'Proxy PORT : ' . $purl['port'] . PHP_EOL;
		echo 'Proxy STATUS : ACTIVE' . PHP_EOL;
		echo "----------------------------" . PHP_EOL;
	} else {
		echo 'Proxy IP : ' . $purl['ip'] . PHP_EOL;
		echo 'Proxy PORT : ' . $purl['port'] . PHP_EOL;
		echo 'Proxy STATUS : DEAD' . PHP_EOL;
		echo "----------------------------" . PHP_EOL;
	}
	sleep(2);
}
